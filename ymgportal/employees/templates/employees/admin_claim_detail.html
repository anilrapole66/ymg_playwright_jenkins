{% extends 'employees/base.html' %}
{% block dashboard_content %}
<style>
.card { background:white; padding:25px; border-radius:12px;
        box-shadow:0 6px 18px rgba(12,20,43,0.06); margin-bottom:20px; }
.title { color:#1e3a8a; font-size:22px; text-align:center; font-weight:700; margin-bottom:20px; }

.row { display:flex; gap:18px; flex-wrap:wrap; margin-bottom:12px; }
.col { flex:1; min-width:260px; background:#f8fafc; padding:12px; border-radius:8px; border:1px solid #e6eef9; }
.label { color:#1e3a8a; font-weight:700; margin-bottom:6px; }
.value { color:#0f172a; }

.attach-box { background:#cc1939; padding:16px; border-radius:10px; border:1px solid #eaecef; }
.att-item { display:flex; gap:12px; padding:8px 4px; align-items:center; }
.att-item a { color:#2563eb; text-decoration:none; font-weight:600; }

.btn-reject {
  padding:12px 18px; background:#dc2626; color:white; text-decoration:none;
  border-radius:8px; font-weight:700; display:inline-block; margin-top:12px;
}

a.back-link {
            display: block;
            margin-top: 25px;
            text-decoration: none;
            color: #cc1939;
            text-align: center;
            font-weight: 500;
            font-family: 'Poppins', sans-serif;
            transition: all 0.25s ease;
        }

        a.back-link:hover {
            color: #cc1939;
            text-decoration: underline;
            transform: translateY(-1px);
        }
</style>

<div class="card">
    <div class="title">Claim #{{ claim.id }} ‚Äì {{ claim.employee.full_name }}</div>

    <div class="row">
        <div class="col">
            <div class="label">Description</div>
            <div class="value">{{ claim.description }}</div>
        </div>

        <div class="col">
            <div class="label">Amount</div>
            <div class="value">${{ claim.amount }}</div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="label">Period</div>
            <div class="value">{{ claim.start_date }} ‚Üí {{ claim.end_date }}</div>
        </div>

        <div class="col">
            <div class="label">Status</div>
            <div class="value">
                {% if claim.status == "SUBMITTED" %}
                    <span style="color:#2563eb; font-weight:700;">Submitted</span>
                {% else %}
                    <span style="color:#b91c1c; font-weight:700;">Rejected</span>
                {% endif %}
            </div>
        </div>
    </div>

    <div class="attach-box" style="margin-top:16px;">
        <div class="label">Attachments</div>

        {% if attachments %}
            {% for att in attachments %}
                <div class="att-item">
                    <div>üìé</div>
                    <a href="{{ att.file.url }}" target="_blank">
                        {{ att.file.name|slice:"-40:" }}
                    </a>
                </div>
            {% endfor %}
        {% else %}
            <div style="color:#6b7280;">No attachments uploaded.</div>
        {% endif %}
    </div>

    {% if claim.status == "SUBMITTED" %}
        <a href="{% url 'admin_claim_reject' claim.id %}" class="btn-reject">
            Reject Claim
        </a>
    {% endif %}

    <br>
    <a href="{% url 'admin_claims' %}" class="back-link">‚Üê Back to Claims</a>
</div>

{% endblock %}
